webpackJsonp([42],{1472:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),i=n.n(l),u=n(75),c=n(124),d=n.n(c),p=n(46),g=n(172),m=n(99),f=n(1750),h=n.n(f),v=n(25),b=n.n(v),y=n(296),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){n.setState(a({},e.target.name,e.target.value))},n.handleChangePlace=function(e){n.setState({address:e})},n.handleSelect=function(e,t){Object(f.geocodeByAddress)(e).then(function(e){return Object(f.getLatLng)(e[0])}).then(function(t){var a=t.lat,o=t.lng;n.setState({latitude:a,longitude:o,address:e})}).catch(function(e){return console.error("Error",e)}),Object(f.geocodeByPlaceId)(t).then(function(e){return Object(f.getLatLng)(e[0])}).then(function(t){var a=t.lat,o=t.lng;n.setState({latitude:a,longitude:o,address:e})}).catch(function(e){return console.log("error")})},n.handleClick=function(e){e.preventDefault();var t=n.props.match.params.tuk_id,a={};void 0!==n.state.tuk_name&&(a.tuk_name=Object(m.i)(n.state.tuk_name)),""!==n.state.address&&(a.address=Object(m.i)(n.state.address)),""!==n.state.longitude&&(a.longitude=n.state.longitude),""!==n.state.latitude&&(a.latitude=n.state.latitude),void 0!==n.state.number_sk&&(a.number_sk=n.state.number_sk),void 0!==n.state.tuk_type&&(a.tuk_type=n.state.tuk_type),void 0!==n.state.expired_date&&(a.expired_date=n.state.expired_date),void 0!==n.state.contact&&(a.contact=n.state.contact);var o=Object(g.a)(m.X+"/"+t,"PUT"),r={method:o.method,headers:{Authorization:o.digest,"X-Lsp-Date":o.date,"Content-Type":"multipart/form-data"},url:m.c+m.X+"/"+t,data:a};d()(r).then(function(e){"SUCCESS"===e.data.responseStatus&&n.setState({editTuk:!0})}).catch(function(e){"ERROR"===e.response.data.responseStatus&&n.setState({hidden:!1,message:"Not change"})})},n.handleCloseClick=function(){n.setState({address:"",latitude:null,longitude:null})},n.state={data:{tuk_name:"",address:"",longitude:"",latitude:"",number_sk:"",contact:"",expired_date:""},address:"",longitude:"",latitude:"",message:"",editTuk:!1,hidden:!0,payload:[]},n}return s(t,e),S(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.tuk_id;d()(Object(m.k)(m.W+"/"+t,"GET")).then(function(t){e.setState({payload:t.data.data,address:t.data.data.address,expired_date:t.data.data.expired_date})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.expired_date,a=t.payload,o=a.tuk_name,r=a.longitude,s=a.latitude,l=a.number_sk,c=a.contact,d=a.tuk_type;return this.state.editTuk?i.a.createElement(u.d,{to:"/tuk"}):i.a.createElement("div",{className:"animated fadeIn"},i.a.createElement(p.Card,null,i.a.createElement(p.CardHeader,{style:{textAlign:"center"}},y.a.Edit," Data TUK"),i.a.createElement(p.CardBody,null,i.a.createElement(p.Form,{action:"",encType:"multipart/form-data",className:"form-horizintal"},i.a.createElement(p.FormGroup,{row:!0},i.a.createElement(p.Col,{md:"2"},i.a.createElement(p.Label,{htmlFor:"tuk_name"},y.a.name)),i.a.createElement(p.Col,{xs:"9",md:"5"},i.a.createElement(p.Input,{type:"text",style:{borderColor:"black"},id:"tuk_name",name:"tuk_name",onChange:this.handleChange,defaultValue:o})),i.a.createElement(p.Col,{md:"1"},i.a.createElement(p.Label,{htmlFor:"tuk_sk"},"No SK")),i.a.createElement(p.Col,{xs:"12",md:"3"},i.a.createElement(p.Input,{type:"text",style:{borderColor:"black"},id:"number_sk",name:"number_sk",onChange:this.handleChange,defaultValue:"undefined"===l?"":l,required:!0}))),i.a.createElement(p.FormGroup,{row:!0},i.a.createElement(p.Col,{md:"2"},i.a.createElement(p.Label,{htmlFor:"tuk_name"},y.a.address)),i.a.createElement(p.Col,{xs:"9",md:"5"},Object(m.b)(this.state.address),","," ",i.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query="+s+","+r,target:"_blank"}," "+y.a.open+" "+y.a.map)),i.a.createElement(p.Col,{md:"1"},i.a.createElement(p.Label,{htmlFor:"contact"},y.a.contact)),i.a.createElement(p.Col,{xs:"12",md:"3"},i.a.createElement(p.Input,{type:"text",style:{borderColor:"black"},id:"contact",name:"contact",onChange:this.handleChange,defaultValue:"undefined"===c?"":c}))),i.a.createElement(p.FormGroup,{row:!0},i.a.createElement(p.Col,{md:"2"},i.a.createElement(p.Label,{htmlFor:"address"},y.a.newAddress)),i.a.createElement(p.Col,{xs:"12",md:"5"},i.a.createElement(h.a,{id:"address",name:"address",value:this.state.address,onChange:this.handleChangePlace,onSelect:this.handleSelect,onClick:this.handleSelect},function(t){var n=t.getInputProps,a=t.suggestions,o=t.getSuggestionItemProps,r=t.loading;return i.a.createElement("div",null,i.a.createElement(p.Input,Object.assign({type:"text",id:"address",name:"address",onChange:e.handleChange},n({placeholder:"Search Places ...",className:"location-search-input"}))),i.a.createElement("div",{className:"autocomplete-dropdown-container"},r&&i.a.createElement("div",null,"Loading..."),a.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return i.a.createElement("div",o(e,{className:t,style:n}),i.a.createElement("span",null,e.description))})))})),i.a.createElement(p.Col,{md:"1"},i.a.createElement(p.Label,{htmlFor:"contact"},y.a.type," TUK")),i.a.createElement(p.Col,{xs:"12",md:"3"},i.a.createElement(p.Input,{style:{borderColor:"black"},type:"select",id:"tuk_type",name:"tuk_type",onChange:this.handleChange,required:!0},i.a.createElement("option",{value:""},d),i.a.createElement("option",{value:"mandiri"},"TUK Mandiri"),i.a.createElement("option",{value:"sewaktu"},"TUK Sewaktu"),i.a.createElement("option",{value:"tempat_kerja"},"TUK Tempat Kerja")))),i.a.createElement(p.FormGroup,{row:!0},i.a.createElement(p.Col,{md:"2"},i.a.createElement(p.Label,{htmlFor:"masa_berlaku"},y.a.expiredDate)),i.a.createElement(p.Col,{xs:"12",md:"5"},i.a.createElement(p.Input,{style:{borderColor:"black"},type:"date",id:"expired_date",name:"expired_date",value:b()(n).format("YYYY-MM-DD"),onChange:this.handleChange})))),i.a.createElement(p.Alert,{color:"danger",hidden:this.state.hidden,className:"text-center"},this.state.message)),i.a.createElement(p.CardFooter,null,i.a.createElement(p.Row,null,i.a.createElement(p.Col,{md:"1.5"},i.a.createElement(u.b,{to:"/tuk"},i.a.createElement(p.Button,{type:"submit",size:"md",color:"danger"},i.a.createElement("i",{className:"fa fa-close"})," ",y.a.cancel),i.a.createElement("p",null))),i.a.createElement(p.Col,{md:"1.5"},i.a.createElement(p.Button,{className:"Btn-Submit",type:"submit",size:"md",color:"success",onClick:this.handleClick},i.a.createElement("i",{className:"fa fa-check"})," ",y.a.submit))))))}}]),t}(l.Component);t.default=w},1750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLatLng=t.geocodeByPlaceId=t.geocodeByAddress=void 0;var a=n(1751),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(1753);t.geocodeByAddress=r.geocodeByAddress,t.geocodeByPlaceId=r.geocodeByPlaceId,t.getLatLng=r.getLatLng,t.default=o.default},1751:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),c=a(u),d=n(1),p=a(d),g=n(308),m=a(g),f=n(1752),h=function(e){return{mainText:e.main_text,secondaryText:e.secondary_text}},v=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");n.autocompleteService=new window.google.maps.places.AutocompleteService,n.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,n.setState(function(e){return e.ready?null:{ready:!0}})},n.autocompleteCallback=function(e,t){if(n.setState({loading:!1}),t!==n.autocompleteOK)return void n.props.onError(t,n.clearSuggestions);var a=n.props.highlightFirstSuggestion;n.setState({suggestions:e.map(function(e,t){return{id:e.id,description:e.description,placeId:e.place_id,active:!(!a||0!==t),index:t,formattedSuggestion:h(e.structured_formatting),matchedSubstrings:e.matched_substrings,terms:e.terms,types:e.types}})})},n.fetchPredictions=function(){var e=n.props.value;e.length&&(n.setState({loading:!0}),n.autocompleteService.getPlacePredictions(l({},n.props.searchOptions,{input:e}),n.autocompleteCallback))},n.clearSuggestions=function(){n.setState({suggestions:[]})},n.clearActive=function(){n.setState({suggestions:n.state.suggestions.map(function(e){return l({},e,{active:!1})})})},n.handleSelect=function(e,t){n.clearSuggestions(),n.props.onSelect?n.props.onSelect(e,t):n.props.onChange(e)},n.getActiveSuggestion=function(){return n.state.suggestions.find(function(e){return e.active})},n.selectActiveAtIndex=function(e){var t=n.state.suggestions.find(function(t){return t.index===e}).description;n.setActiveAtIndex(e),n.props.onChange(t)},n.selectUserInputValue=function(){n.clearActive(),n.props.onChange(n.state.userInputValue)},n.handleEnterKey=function(){var e=n.getActiveSuggestion();void 0===e?n.handleSelect(n.props.value,null):n.handleSelect(e.description,e.placeId)},n.handleDownKey=function(){if(0!==n.state.suggestions.length){var e=n.getActiveSuggestion();void 0===e?n.selectActiveAtIndex(0):e.index===n.state.suggestions.length-1?n.selectUserInputValue():n.selectActiveAtIndex(e.index+1)}},n.handleUpKey=function(){if(0!==n.state.suggestions.length){var e=n.getActiveSuggestion();void 0===e?n.selectActiveAtIndex(n.state.suggestions.length-1):0===e.index?n.selectUserInputValue():n.selectActiveAtIndex(e.index-1)}},n.handleInputKeyDown=function(e){switch(e.key){case"Enter":e.preventDefault(),n.handleEnterKey();break;case"ArrowDown":e.preventDefault(),n.handleDownKey();break;case"ArrowUp":e.preventDefault(),n.handleUpKey();break;case"Escape":n.clearSuggestions()}},n.setActiveAtIndex=function(e){n.setState({suggestions:n.state.suggestions.map(function(t,n){return n===e?l({},t,{active:!0}):l({},t,{active:!1})})})},n.handleInputChange=function(e){var t=e.target.value;if(n.props.onChange(t),n.setState({userInputValue:t}),!t)return void n.clearSuggestions();n.props.shouldFetchSuggestions&&n.debouncedFetchPredictions()},n.handleInputOnBlur=function(){n.mousedownOnSuggestion||n.clearSuggestions()},n.getActiveSuggestionId=function(){var e=n.getActiveSuggestion();return e?"PlacesAutocomplete__suggestion-"+e.placeId:void 0},n.getIsExpanded=function(){return n.state.suggestions.length>0},n.getInputProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(e.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var t={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":n.getIsExpanded(),"aria-activedescendant":n.getActiveSuggestionId(),disabled:!n.state.ready};return l({},t,e,{onKeyDown:(0,f.compose)(n.handleInputKeyDown,e.onKeyDown),onBlur:(0,f.compose)(n.handleInputOnBlur,e.onBlur),value:n.props.value,onChange:function(e){n.handleInputChange(e)}})},n.getSuggestionItemProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.handleSuggestionMouseEnter.bind(n,e.index),o=n.handleSuggestionClick.bind(n,e);return l({},t,{key:e.id,id:n.getActiveSuggestionId(),role:"option",onMouseEnter:(0,f.compose)(a,t.onMouseEnter),onMouseLeave:(0,f.compose)(n.handleSuggestionMouseLeave,t.onMouseLeave),onMouseDown:(0,f.compose)(n.handleSuggestionMouseDown,t.onMouseDown),onMouseUp:(0,f.compose)(n.handleSuggestionMouseUp,t.onMouseUp),onTouchStart:(0,f.compose)(n.handleSuggestionTouchStart,t.onTouchStart),onTouchEnd:(0,f.compose)(n.handleSuggestionMouseUp,t.onTouchEnd),onClick:(0,f.compose)(o,t.onClick)})},n.handleSuggestionMouseEnter=function(e){n.setActiveAtIndex(e)},n.handleSuggestionMouseLeave=function(){n.mousedownOnSuggestion=!1,n.clearActive()},n.handleSuggestionMouseDown=function(e){e.preventDefault(),n.mousedownOnSuggestion=!0},n.handleSuggestionTouchStart=function(){n.mousedownOnSuggestion=!0},n.handleSuggestionMouseUp=function(){n.mousedownOnSuggestion=!1},n.handleSuggestionClick=function(e,t){t&&t.preventDefault&&t.preventDefault();var a=e.description,o=e.placeId;n.handleSelect(a,o),setTimeout(function(){n.mousedownOnSuggestion=!1})},n.state={loading:!1,suggestions:[],userInputValue:e.value,ready:!e.googleCallbackName},n.debouncedFetchPredictions=(0,m.default)(n.fetchPredictions,n.props.debounce),n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.googleCallbackName;e?window.google?this.init():window[e]=this.init:this.init()}},{key:"componentWillUnmount",value:function(){var e=this.props.googleCallbackName;e&&window[e]&&delete window[e]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),t}(c.default.Component);v.propTypes={onChange:p.default.func.isRequired,value:p.default.string.isRequired,children:p.default.func.isRequired,onError:p.default.func,onSelect:p.default.func,searchOptions:p.default.shape({bounds:p.default.object,componentRestrictions:p.default.object,location:p.default.object,offset:p.default.oneOfType([p.default.number,p.default.string]),radius:p.default.oneOfType([p.default.number,p.default.string]),types:p.default.array}),debounce:p.default.number,highlightFirstSuggestion:p.default.bool,shouldFetchSuggestions:p.default.bool,googleCallbackName:p.default.string},v.defaultProps={onError:function(e,t){return console.error("[react-places-autocomplete]: error happened when fetching data from Google Maps API.\nPlease check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)\nStatus: ",e)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0},t.default=v},1752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compose=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];t.forEach(function(e){return e&&e.apply(void 0,n)})}},t.pick=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{})}},1753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.geocodeByAddress=function(e){var t=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(a,o){t.geocode({address:e},function(e,t){t!==n&&o(t),a(e)})})},t.getLatLng=function(e){return new Promise(function(t,n){try{t({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})}catch(e){n(e)}})},t.geocodeByPlaceId=function(e){var t=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(a,o){t.geocode({placeId:e},function(e,t){t!==n&&o(t),a(e)})})}}});
//# sourceMappingURL=42.b4eec3ac.chunk.js.map